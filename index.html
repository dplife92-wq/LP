<!doctype html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <title>Comment générer 5000€/mois en tant que professeur particulier - Formation 2025</title>
    <meta name="description" content="Découvrez comment générer 5000€/mois en tant que professeur particulier de façon simple, régulière et prévisible en 2025. Formation gratuite de 30 minutes.">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Comment générer 5000€/mois en tant que professeur particulier en 2025">
    <meta property="og:description" content="Formation gratuite de 30 minutes pour les professeurs particuliers">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://academy.quentinmdb.com/etude-de-cas">
    
    <!-- Klaviyo Integration -->
    <script async type="text/javascript" src="https://static.klaviyo.com/onsite/js/klaviyo.js?company_id=SnLai2"></script>
    
    <style>
        /* Reset & Base */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        html {
            font-size: 16px;
            scroll-behavior: smooth;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #fff;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            word-wrap: break-word;
            min-width: 320px;
        }
        
        /* Container */
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 12px;
        }
        
        @media (min-width: 480px) {
            .container {
                padding: 0 16px;
            }
        }
        
        @media (min-width: 768px) {
            .container {
                padding: 0 32px;
            }
        }
        
        @media (min-width: 1024px) {
            .container {
                padding: 0 40px;
            }
        }
        
        /* Typography */
        h1 {
            font-size: 20px;
            font-weight: 700;
            line-height: 1.25;
            color: #111;
            margin-bottom: 12px;
            word-wrap: break-word;
            hyphens: auto;
        }
        
        @media (min-width: 375px) {
            h1 {
                font-size: 24px;
                margin-bottom: 16px;
            }
        }
        
        @media (min-width: 768px) {
            h1 {
                font-size: 32px;
                margin-bottom: 20px;
            }
        }
        
        @media (min-width: 1024px) {
            h1 {
                font-size: 40px;
            }
        }
        
        h2 {
            font-size: 20px;
            font-weight: 600;
            line-height: 1.3;
            color: #111;
            margin-bottom: 16px;
        }
        
        @media (min-width: 768px) {
            h2 {
                font-size: 28px;
            }
        }
        
        @media (min-width: 1024px) {
            h2 {
                font-size: 32px;
            }
        }
        
        h3 {
            font-size: 16px;
            font-weight: 600;
            color: #222;
            margin-bottom: 8px;
        }
        
        @media (min-width: 768px) {
            h3 {
                font-size: 18px;
                margin-bottom: 12px;
            }
        }
        
        p {
            font-size: 14px;
            line-height: 1.5;
            color: #555;
            margin-bottom: 12px;
        }
        
        @media (min-width: 768px) {
            p {
                font-size: 16px;
                line-height: 1.6;
                margin-bottom: 16px;
            }
        }
        
        .lead {
            font-size: 14px;
            font-weight: 500;
            color: #444;
            margin-bottom: 16px;
            line-height: 1.4;
        }
        
        @media (min-width: 375px) {
            .lead {
                font-size: 15px;
                margin-bottom: 18px;
            }
        }
        
        @media (min-width: 768px) {
            .lead {
                font-size: 18px;
                margin-bottom: 24px;
                line-height: 1.5;
            }
        }
        
        /* Loading state for forms */
        .form-loading {
            opacity: 0.7;
            pointer-events: none;
        }
        
        .form-success {
            color: #28a745;
            font-weight: 600;
            text-align: center;
            padding: 16px;
            background: #d4edda;
            border-radius: 8px;
            margin-bottom: 16px;
        }
        
        .form-error {
            color: #dc3545;
            font-weight: 600;
            text-align: center;
            padding: 16px;
            background: #f8d7da;
            border-radius: 8px;
            margin-bottom: 16px;
        }
        
        /* Buttons */
        .btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            padding: 12px 20px;
            background: #0d6efd;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
            font-size: 13px;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            width: 100%;
            text-align: center;
            min-height: 44px;
            touch-action: manipulation;
            line-height: 1.2;
        }
        
        @media (min-width: 375px) {
            .btn {
                font-size: 14px;
                padding: 14px 24px;
                gap: 8px;
                min-height: 48px;
            }
        }
        
        @media (min-width: 768px) {
            .btn {
                font-size: 16px;
                padding: 16px 32px;
            }
        }
        
        @media (min-width: 900px) {
            .btn {
                width: auto;
                display: inline-flex;
                min-height: auto;
            }
        }
        
        .btn:hover, .btn:focus {
            background: #0b5ed7;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(13, 110, 253, 0.3);
            outline: none;
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        .btn-purple {
            background: #6A5ACD;
            color: white;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .btn-purple:hover, .btn-purple:focus {
            background: #483D8B;
            box-shadow: 0 4px 12px rgba(106, 90, 205, 0.3);
        }
        
        .btn-pink {
            background: #6A5ACD;
            color: white;
            font-weight: 600;
            text-transform: none;
            letter-spacing: 0;
        }
        
        .btn-pink:hover, .btn-pink:focus {
            background: #483D8B;
            box-shadow: 0 4px 12px rgba(106, 90, 205, 0.3);
        }
        
        .play-icon {
            font-size: 12px;
        }
        
        @media (min-width: 768px) {
            .play-icon {
                font-size: 14px;
            }
        }
        
        /* Hero Title Section */
        .hero-title {
            padding: 40px 0 20px;
            background: white;
            text-align: center;
        }
        
        @media (min-width: 768px) {
            .hero-title {
                padding: 60px 0 30px;
            }
        }
        
        .title-divider {
            width: 60px;
            height: 3px;
            background: #6A5ACD;
            margin: 20px auto;
        }
        
        /* Content Section */
        .content-section {
            padding: 40px 0 60px;
            background: #f8f9fa;
        }
        
        @media (min-width: 768px) {
            .content-section {
                padding: 60px 0 80px;
            }
        }
        
        .content-grid {
            display: flex;
            flex-direction: column;
            gap: 32px;
        }
        
        @media (min-width: 900px) {
            .content-grid {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 60px;
                align-items: center;
            }
        }
        
        /* Video Section */
        .video-container {
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .video-player {
            width: 100%;
            max-width: 500px;
            aspect-ratio: 16/9;
            background: #000;
            border-radius: 12px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 500;
            font-size: 12px;
            overflow: hidden;
        }
        
        .video-player img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 12px;
        }
        
        @media (min-width: 768px) {
            .video-player {
                font-size: 14px;
            }
        }
        
        .play-btn {
            position: absolute;
            width: 60px;
            height: 60px;
            background: rgba(106, 90, 205, 0.9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            touch-action: manipulation;
            backdrop-filter: blur(4px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
        
        @media (min-width: 768px) {
            .play-btn {
                width: 80px;
                height: 80px;
            }
        }
        
        .play-btn:hover, .play-btn:focus {
            background: rgba(72, 61, 139, 0.95);
            transform: scale(1.1);
            outline: none;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
        }
        
        .play-btn:active {
            transform: scale(1.05);
        }
        
        .play-btn::after {
            content: "▶";
            color: white;
            font-size: 20px;
            margin-left: 3px;
        }
        
        @media (min-width: 768px) {
            .play-btn::after {
                font-size: 24px;
                margin-left: 4px;
            }
        }
        
        /* Benefits Section */
        .benefits {
            text-align: left;
        }
        
        @media (max-width: 899px) {
            .benefits {
                text-align: center;
            }
        }
        
        .benefits-intro {
            margin-bottom: 24px;
            color: #666;
            font-weight: 500;
        }
        
        .benefits-list {
            list-style: none;
            margin-bottom: 32px;
        }
        
        .benefits-list li {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 16px;
            color: #666;
            font-size: 14px;
            line-height: 1.5;
        }
        
        @media (min-width: 768px) {
            .benefits-list li {
                font-size: 16px;
                margin-bottom: 20px;
            }
        }
        
        @media (max-width: 899px) {
            .benefits-list li {
                justify-content: flex-start;
                text-align: left;
                max-width: 400px;
                margin-left: auto;
                margin-right: auto;
            }
        }
        
        .benefits-list li::before {
            content: "•";
            color: #6A5ACD;
            font-weight: bold;
            font-size: 16px;
            flex-shrink: 0;
            margin-top: 2px;
        }
        
        /* Testimonials Section */
        .testimonials {
            padding: 60px 0;
            background: white;
        }
        
        @media (min-width: 768px) {
            .testimonials {
                padding: 100px 0;
            }
        }
        
        .testimonials h2 {
            text-align: center;
            margin-bottom: 48px;
        }
        
        /* Text Testimonials */
        .text-testimonials {
            margin-bottom: 60px;
        }
        
        .text-testimonial {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
            border-left: 4px solid #6A5ACD;
        }
        
        @media (min-width: 768px) {
            .text-testimonial {
                padding: 32px;
                margin-bottom: 32px;
            }
        }
        
        .testimonial-profile {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 16px;
        }
        
        .profile-pic {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
        }
        
        @media (min-width: 768px) {
            .profile-pic {
                width: 70px;
                height: 70px;
            }
        }
        
        .profile-info h4 {
            font-size: 18px;
            font-weight: 600;
            color: #333;
            margin: 0 0 4px 0;
        }
        
        @media (min-width: 768px) {
            .profile-info h4 {
                font-size: 20px;
            }
        }
        
        .profile-info p {
            font-size: 14px;
            color: #666;
            margin: 0;
        }
        
        @media (min-width: 768px) {
            .profile-info p {
                font-size: 16px;
            }
        }
        
        .testimonial-text p {
            font-size: 15px;
            line-height: 1.6;
            color: #444;
            margin: 0;
            font-style: italic;
        }
        
        @media (min-width: 768px) {
            .testimonial-text p {
                font-size: 16px;
                line-height: 1.7;
            }
        }
        
        /* Video Testimonials */
        .testimonials-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin-top: 32px;
        }
        
        @media (min-width: 600px) {
            .testimonials-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 24px;
            }
        }
        
        @media (min-width: 900px) {
            .testimonials-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 32px;
                margin-top: 48px;
            }
        }
        
        .testimonial-card {
            text-align: center;
        }
        
        .testimonial-video {
            width: 100%;
            aspect-ratio: 16/9;
            background: #000;
            border-radius: 8px;
            position: relative;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 500;
            font-size: 12px;
        }
        
        @media (min-width: 768px) {
            .testimonial-video {
                margin-bottom: 20px;
                font-size: 14px;
            }
        }
        
        .testimonial-play-btn {
            position: absolute;
            width: 48px;
            height: 48px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            touch-action: manipulation;
        }
        
        @media (min-width: 768px) {
            .testimonial-play-btn {
                width: 60px;
                height: 60px;
            }
        }
        
        .testimonial-play-btn:hover, .testimonial-play-btn:focus {
            background: white;
            transform: scale(1.1);
            outline: none;
        }
        
        .testimonial-play-btn:active {
            transform: scale(1.05);
        }
        
        .testimonial-play-btn::after {
            content: "▶";
            color: #333;
            font-size: 16px;
            margin-left: 2px;
        }
        
        @media (min-width: 768px) {
            .testimonial-play-btn::after {
                font-size: 20px;
                margin-left: 3px;
            }
        }
        
        .testimonial-info h3 {
            font-size: 16px;
            margin-bottom: 4px;
        }
        
        @media (min-width: 768px) {
            .testimonial-info h3 {
                font-size: 18px;
                margin-bottom: 8px;
            }
        }
        
        .testimonial-info p {
            font-size: 12px;
            color: #666;
            margin: 0;
        }
        
        @media (min-width: 768px) {
            .testimonial-info p {
                font-size: 14px;
            }
        }
        
        /* CTA Section */
        .cta-section {
            padding: 40px 0;
            text-align: center;
        }
        
        @media (min-width: 768px) {
            .cta-section {
                padding: 60px 0;
            }
        }
        
        /* Footer */
        .footer {
            background: #f8f9fa;
            color: #333;
            padding: 32px 0;
            text-align: center;
        }
        
        @media (min-width: 768px) {
            .footer {
                padding: 40px 0;
            }
        }
        
        .footer p {
            color: #333;
            margin-bottom: 12px;
            font-size: 12px;
        }
        
        @media (min-width: 768px) {
            .footer p {
                margin-bottom: 16px;
                font-size: 14px;
            }
        }
        
        .footer-links {
            margin: 20px 0;
        }
        
        @media (min-width: 768px) {
            .footer-links {
                margin: 24px 0;
            }
        }
        
        .footer-links a {
            color: #333;
            text-decoration: none;
            margin: 0 12px;
            font-size: 12px;
        }
        
        @media (min-width: 768px) {
            .footer-links a {
                margin: 0 16px;
                font-size: 14px;
            }
        }
        
        .footer-links a:hover, .footer-links a:focus {
            color: #6A5ACD;
            outline: none;
        }
        
        .disclaimer {
            max-width: 800px;
            margin: 0 auto;
            font-size: 10px;
            line-height: 1.4;
            color: #666;
            margin-top: 24px;
            padding: 0 8px;
        }
        
        @media (min-width: 768px) {
            .disclaimer {
                font-size: 12px;
                margin-top: 32px;
                padding: 0;
            }
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100vw;
            height: 100vh;
            background-color: rgba(0,0,0,0.5);
            animation: fadeIn 0.3s ease;
            padding: 0;
        }
        
        .modal-content {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            border-radius: 12px;
            width: calc(100% - 32px);
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            z-index: 1001;
        }
        
        .modal-header {
            padding: 20px 20px 0;
            position: relative;
        }
        
        @media (min-width: 768px) {
            .modal-header {
                padding: 24px 24px 0;
            }
        }
        
        .modal-close {
            position: absolute;
            right: 12px;
            top: 12px;
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: #666;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            touch-action: manipulation;
        }
        
        @media (min-width: 768px) {
            .modal-close {
                right: 16px;
                top: 16px;
                font-size: 24px;
            }
        }
        
        .modal-close:hover, .modal-close:focus {
            color: #333;
            background: #f5f5f5;
            outline: none;
        }
        
        .modal-close:active {
            background: #eee;
        }
        
        .progress-bar {
            background: #e9ecef;
            height: 6px;
            border-radius: 3px;
            margin: 12px 0 8px 0;
            overflow: hidden;
        }
        
        @media (min-width: 768px) {
            .progress-bar {
                height: 8px;
                border-radius: 4px;
                margin: 16px 0;
            }
        }
        
        .progress-fill {
            background: linear-gradient(
                45deg,
                #6A5ACD 25%,
                #8B7BD8 25%,
                #8B7BD8 50%,
                #6A5ACD 50%,
                #6A5ACD 75%,
                #8B7BD8 75%,
                #8B7BD8
            );
            background-size: 20px 20px;
            height: 100%;
            width: 50%;
            transition: width 0.3s ease;
            animation: progressStripes 1s linear infinite;
        }
        
        @keyframes progressStripes {
            0% {
                background-position: 0 0;
            }
            100% {
                background-position: 20px 0;
            }
        }
        
        .modal-body {
            padding: 0 20px 20px;
            text-align: center;
        }
        
        @media (min-width: 768px) {
            .modal-body {
                padding: 0 24px 24px;
            }
        }
        
        .modal h3 {
            margin-bottom: 12px;
            font-size: 16px;
            color: #333;
        }
        
        @media (min-width: 768px) {
            .modal h3 {
                margin-bottom: 16px;
                font-size: 18px;
            }
        }
        
        .modal p {
            margin-bottom: 20px;
            font-size: 14px;
            color: #666;
        }
        
        @media (min-width: 768px) {
            .modal p {
                margin-bottom: 24px;
                font-size: 16px;
            }
        }
        
        .modal-form {
            display: flex;
            flex-direction: column;
            gap: 16px;
            margin-bottom: 20px;
        }
        
        .form-group {
            position: relative;
        }
        
        .form-input {
            width: 100%;
            padding: 16px 20px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
            background: white;
            color: #333;
            transition: all 0.3s ease;
            outline: none;
        }
        
        .form-input:focus {
            border-color: #6A5ACD;
            box-shadow: 0 0 0 3px rgba(106, 90, 205, 0.1);
        }
        
        .form-input::placeholder {
            color: #999;
            font-weight: 400;
        }
        
        .modal-buttons {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .modal-footer {
            text-align: center;
            padding: 12px;
        }
        
        .modal-footer button {
            background: none;
            border: none;
            color: #666;
            font-size: 12px;
            cursor: pointer;
            text-decoration: underline;
            padding: 8px;
            border-radius: 4px;
            touch-action: manipulation;
        }
        
        @media (min-width: 768px) {
            .modal-footer button {
                font-size: 14px;
            }
        }
        
        .modal-footer button:hover, .modal-footer button:focus {
            color: #333;
            outline: none;
            background: #f5f5f5;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* Sticky CTA for Mobile */
        .sticky-cta {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            padding: 12px 16px;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            z-index: 100;
            display: block;
        }
        
        @media (min-width: 768px) {
            .sticky-cta {
                display: none;
            }
        }
        
        .sticky-cta .btn {
            margin: 0;
        }
        
        /* Extra small screen breakpoint */
        @media (max-width: 360px) {
            .container {
                padding: 0 8px;
            }
            
            h1 {
                font-size: 18px;
                line-height: 1.3;
            }
            
            .lead {
                font-size: 13px;
            }
            
            .btn {
                font-size: 12px;
                padding: 10px 16px;
                min-height: 40px;
            }
            
            .hero-title {
                padding: 20px 0 16px;
            }
            
            .content-section {
                padding: 24px 0 40px;
            }
        }
        
        /* Framer optimizations */
        .framer-optimized {
            transform: translateZ(0);
            backface-visibility: hidden;
            perspective: 1000px;
        }
        
        /* Touch interactions */
        @media (hover: none) and (pointer: coarse) {
            .btn:hover {
                transform: none;
                box-shadow: none;
            }
            
            .play-btn:hover {
                transform: none;
            }
        }
        
        /* High DPI optimizations */
        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            .video-player {
                border-width: 1px;
            }
        }
        
        /* Safeguards */
        * {
            box-sizing: border-box;
            max-width: 100%;
        }
        
        img, video, iframe {
            max-width: 100%;
            height: auto;
        }
        
        h1, h2, h3, p {
            overflow-wrap: break-word;
            word-break: break-word;
        }
    </style>
</head>
<body class="framer-optimized">
    <main id="main-content">
        <!-- Hero Title Section -->
        <section class="hero-title">
            <div class="container">
                <h1>Comment générer 5000€/mois en tant que professeur particulier de façon <span style="color: #6A5ACD;">simple</span>, <span style="color: #6A5ACD;">régulière</span> et <span style="color: #6A5ACD;">prévisible</span> en <span style="color: #6A5ACD;">2025</span> ?</h1>
                <div class="title-divider"></div>
                <p class="lead"><span style="color: #6A5ACD;">Sans</span> ne plus jamais dépendre des <span style="color: #6A5ACD;">plateformes</span> et sans poster sur les <span style="color: #6A5ACD;">réseaux sociaux</span></p>
            </div>
        </section>

        <!-- Content Section -->
        <section class="content-section">
            <div class="container">
                <div class="content-grid">
                    <!-- Video Section -->
                    <div class="video-container">
                        <figure class="video-player" role="img" aria-label="Formation vidéo">
                            <img src="https://res.cloudinary.com/dwxakodta/image/upload/v1755706197/ezgif.com-animated-gif-maker_egcy9p.gif" 
                                 alt="Vidéo de formation - Tableau explicatif" 
                                 style="width: 100%; height: 100%; object-fit: cover; border-radius: 12px;">
                            <button class="play-btn" aria-label="Lire la vidéo de formation" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);"></button>
                        </figure>
                    </div>
                    
                    <!-- Benefits Section -->
                    <div class="benefits">
                        <p class="benefits-intro"><strong>30 minutes de <span style="color: #666;">formation gratuite</span> pour apprendre à :</strong></p>
                        
                        <ul class="benefits-list">
                            <li>Découvrir ce nouveau système méconnu des professeurs particuliers pour :</li>
                            <li>Obtenir 3, 5, 10 élèves réguliers chaque mois de façon automatique</li>
                            <li>Gagner 5000€ (ou plus) par mois, de façon récurrente et prévisible</li>
                        </ul>
                        
                        <a href="#" class="btn btn-purple" id="hero-cta">
                            <span class="play-icon">▶</span>
                            APPRENDRE
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Testimonials Section -->
        <section class="testimonials">
            <div class="container">
                <h2>Ce qu'ils ont pensé de cette formation</h2>
                
                <div class="testimonials-grid">
                    <div class="testimonial-card">
                        <img src="https://res.cloudinary.com/dwxakodta/image/upload/v1755714566/Design_sans_titre_copie_2_znqjx2.png" alt="Témoignage de Georges" style="width: 100%; border-radius: 8px;">
                        <div class="testimonial-info">
                            <h3>Georges</h3>
                            <p>Professeur d'espagnol</p>
                        </div>
                    </div>
                    
                    <div class="testimonial-card">
                        <img src="https://res.cloudinary.com/dwxakodta/image/upload/v1755714566/Design_sans_titre_keykjc.png" alt="Témoignage d'Anne-Sophie" style="width: 100%; border-radius: 8px;">
                        <div class="testimonial-info">
                            <h3>Anne-Sophie</h3>
                            <p>Professeur de mathématiques</p>
                        </div>
                    </div>
                    
                    <div class="testimonial-card">
                        <img src="https://res.cloudinary.com/dwxakodta/image/upload/v1755714566/Design_sans_titre_copie_yc15q5.png" alt="Témoignage de Brigitte" style="width: 100%; border-radius: 8px;">
                        <div class="testimonial-info">
                            <h3>Brigitte</h3>
                            <p>Professeur de français</p>
                        </div>
                    </div>
                </div>
                
                <div class="cta-section">
                    <a href="#" class="btn btn-purple">
                        <span class="play-icon">▶</span>
                        APPRENDRE
                    </a>
                </div>
            </div>
        </section>
    </main>

    <!-- Sticky CTA for Mobile -->
    <div class="sticky-cta">
        <a href="#" class="btn btn-purple">
            <span class="play-icon">▶</span>
            APPRENDRE
        </a>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 Edouard Merle du Bourg. Tous droits réservés.</p>
            
            <div class="footer-links">
                <a href="#" tabindex="0">Terms</a>
                <a href="#" tabindex="0">Privacy</a>
            </div>
            
            <div class="disclaimer">
                <p>NOT FACEBOOK: Ce site n'est en aucun cas affilié avec Facebook. Une fois que vous quittez Facebook, la responsabilité ne relève plus de Facebook mais du site vers lequel vous vous dirigez. Nous faisons de notre mieux pour indiquer clairement et montrer toutes les preuves du produit et utilisons des résultats réels. Nous ne vendons pas votre email ou autres informations à qui que ce soit. Nous respectons votre vie privée et haïssons le SPAM autant que vous ! Si vous avez des questions, n'hésitez pas à nous contacter en utilisant le formulaire de contact sur ce site.</p>
            </div>
        </div>
    </footer>

    <!-- Exit Intent Modal -->
    <div id="exitModal" class="modal" aria-modal="true" role="dialog" aria-labelledby="modalTitle">
        <div class="modal-content">
            <div class="modal-header">
                <button class="modal-close" aria-label="Fermer la modale">&times;</button>
                <div class="progress-bar">
                    <div class="progress-fill"></div>
                </div>
                <p style="font-size: 12px; color: #666; margin: 8px 0 0 0; text-align: center;">50% Complete</p>
            </div>
            <div class="modal-body">
                <h3 id="modalTitle">Entrez vos informations et accédez à la formation 🚀</h3>
                
                <div id="form-messages"></div>
                
                <form class="modal-form" id="leadForm">
                    <div class="form-group">
                        <input type="text" class="form-input" placeholder="Prénom" name="firstName" required>
                    </div>
                    <div class="form-group">
                        <input type="email" class="form-input" placeholder="Email" name="email" required>
                    </div>
                </form>
                
                <div class="modal-buttons">
                    <button type="submit" form="leadForm" class="btn btn-pink" id="submitBtn">
                        <span class="play-icon">▶</span>
                        Regarder maintenant (gratuitement)
                    </button>
                </div>
                
                <!-- Formulaire caché pour Klaviyo fallback -->
                <form id="klaviyo-fallback-form" style="display: none;" action="https://manage.kmail-lists.com/subscriptions/subscribe" method="POST">
                    <input type="hidden" name="g" value="SnLai2">
                    <input type="email" name="email" id="fallback-email">
                    <input type="text" name="$first_name" id="fallback-firstname">
                    <input type="hidden" name="$source" value="Landing Page Formation">
                </form>
            </div>
        </div>
    </div>

    <script>
        // Variables globales
        let modalShown = false;
        let exitTimer;
        let touchStartY = 0;
        let lastScrollY = 0;
        
        // Détection mobile
        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth <= 768;
        
        // Configuration Klaviyo
        const KLAVIYO_CONFIG = {
            apiKey: 'pk_5061b97c14d841fa161a965d63323a2f58',
            listId: 'SnLai2',
            companyId: 'SnLai2'
        };
        
        // Debug function pour Klaviyo améliorée
        function debugKlaviyo() {
            console.log('=== DEBUG KLAVIYO AVANCÉ ===');
            console.log('1. Vérifications de base:');
            console.log('   - window._learnq:', typeof window._learnq !== 'undefined' ? '✅ Disponible' : '❌ Manquant');
            console.log('   - window.klaviyo:', typeof window.klaviyo !== 'undefined' ? '✅ Disponible' : '❌ Manquant');
            console.log('   - Config:', KLAVIYO_CONFIG);
            
            if (window._learnq) {
                console.log('   - Queue length:', window._learnq.length);
                console.log('   - Queue content:', window._learnq);
            }
            
            console.log('2. Test de connexion réseau:');
            fetch('https://static.klaviyo.com/onsite/js/klaviyo.js?company_id=SnLai2')
                .then(response => {
                    console.log('   - Script Klaviyo accessible:', response.ok ? '✅ OK' : '❌ Erreur');
                })
                .catch(error => {
                    console.log('   - Erreur réseau:', error.message);
                });
            
            console.log('3. Informations navigateur:');
            console.log('   - User Agent:', navigator.userAgent);
            console.log('   - Cookies activés:', navigator.cookieEnabled);
            console.log('   - URL actuelle:', window.location.href);
            
            console.log('4. Test d\'envoi manuel:');
            if (window._learnq) {
                window._learnq.push(['identify', {
                    '$email': 'test-debug@example.com',
                    '$first_name': 'Test Debug',
                    'debug': true,
                    'timestamp': new Date().toISOString()
                }]);
                console.log('   - Test identify envoyé ✅');
                
                window._learnq.push(['track', 'Debug Test', {
                    'test': true,
                    'timestamp': new Date().toISOString()
                }]);
                console.log('   - Test track envoyé ✅');
            }
        }
        
        // Test d'inscription avancé
        window.testFullKlaviyo = function() {
            console.log('🧪 === TEST COMPLET KLAVIYO ===');
            
            debugKlaviyo();
            
            const testEmail = 'test-' + Date.now() + '@example.com';
            const testFirstName = 'Test User';
            
            console.log('🔄 Test avec email unique:', testEmail);
            
            return subscribeToKlaviyo(testEmail, testFirstName).then(result => {
                console.log('📊 Résultat final:', result);
                return result;
            });
        };
        
        // Fonction d'inscription à Klaviyo avec fallback
        function subscribeToKlaviyo(email, firstName) {
            return new Promise((resolve) => {
                try {
                    console.log('=== INSCRIPTION KLAVIYO ===');
                    console.log('Email:', email);
                    console.log('Prénom:', firstName);
                    
                    // Tentative 1: API JavaScript Klaviyo
                    function tryKlaviyoJS() {
                        if (typeof window._learnq !== 'undefined') {
                            console.log('✅ Méthode 1: API JavaScript Klaviyo');
                            
                            // Identifier le profil
                            window._learnq.push(['identify', {
                                '$email': email,
                                '$first_name': firstName,
                                '$source': 'Formation Landing Page',
                                'List': 'Formation 5000€',
                                'Lead Source': 'Exit Intent Modal',
                                'Page URL': window.location.href,
                                'Timestamp': new Date().toISOString()
                            }]);
                            
                            // Tracker un événement
                            window._learnq.push(['track', 'Signed Up', {
                                '$email': email,
                                '$value': 0,
                                'Campaign': 'Professeur Particulier 5000€',
                                'Source': 'Landing Page',
                                'Form Type': 'Exit Intent',
                                'First Name': firstName
                            }]);
                            
                            console.log('✅ Données envoyées via API JS');
                            
                            // Essayer aussi le fallback pour être sûr
                            setTimeout(() => tryFormFallback(), 1000);
                            
                            return true;
                        }
                        return false;
                    }
                    
                    // Tentative 2: Formulaire caché
                    function tryFormFallback() {
                        console.log('🔄 Méthode 2: Formulaire fallback');
                        
                        const fallbackForm = document.getElementById('klaviyo-fallback-form');
                        const emailInput = document.getElementById('fallback-email');
                        const firstNameInput = document.getElementById('fallback-firstname');
                        
                        if (fallbackForm && emailInput && firstNameInput) {
                            emailInput.value = email;
                            firstNameInput.value = firstName;
                            
                            // Créer un iframe caché pour la soumission
                            const iframe = document.createElement('iframe');
                            iframe.style.display = 'none';
                            iframe.name = 'klaviyo-submit-frame';
                            document.body.appendChild(iframe);
                            
                            fallbackForm.target = 'klaviyo-submit-frame';
                            fallbackForm.submit();
                            
                            console.log('✅ Formulaire soumis via iframe');
                            
                            // Nettoyer après 5 secondes
                            setTimeout(() => {
                                document.body.removeChild(iframe);
                            }, 5000);
                        }
                    }
                    
                    // Tentative 3: Fetch direct
                    async function tryFetchDirect() {
                        console.log('🔄 Méthode 3: Fetch direct');
                        
                        try {
                            const formData = new FormData();
                            formData.append('g', 'SnLai2');
                            formData.append('email', email);
                            formData.append('$first_name', firstName);
                            formData.append('$source', 'Landing Page Formation');
                            
                            await fetch('https://manage.kmail-lists.com/subscriptions/subscribe', {
                                method: 'POST',
                                body: formData,
                                mode: 'no-cors'
                            });
                            
                            console.log('✅ Fetch direct tenté');
                        } catch (error) {
                            console.log('⚠️ Fetch direct échoué:', error.message);
                        }
                    }
                    
                    // Exécuter toutes les méthodes
                    const jsSuccess = tryKlaviyoJS();
                    
                    if (!jsSuccess) {
                        console.log('⚠️ API JS non disponible, utilisation des fallbacks');
                        tryFormFallback();
                    }
                    
                    tryFetchDirect();
                    
                    // Simuler le succès après un délai
                    setTimeout(() => {
                        console.log('✅ Inscription tentée par toutes les méthodes');
                        resolve({ success: true, method: 'multiple' });
                    }, 2000);
                    
                } catch (error) {
                    console.error('❌ Erreur Klaviyo:', error);
                    resolve({ success: false, error: error.message });
                }
            });
        }
        
        // Fonctions utilitaires pour les messages
        function showMessage(message, type = 'success') {
            const messagesContainer = document.getElementById('form-messages');
            messagesContainer.innerHTML = `<div class="form-${type}">${message}</div>`;
            
            // Auto-hide après 5 secondes
            setTimeout(() => {
                messagesContainer.innerHTML = '';
            }, 5000);
        }
        
        function setFormLoading(loading) {
            const form = document.getElementById('leadForm');
            const submitBtn = document.getElementById('submitBtn');
            
            if (loading) {
                form.classList.add('form-loading');
                submitBtn.disabled = true;
                submitBtn.innerHTML = '<span class="play-icon">⏳</span> Envoi en cours...';
            } else {
                form.classList.remove('form-loading');
                submitBtn.disabled = false;
                submitBtn.innerHTML = '<span class="play-icon">▶</span> Regarder maintenant (gratuitement)';
            }
        }
        
        // Fonction d'inscription à Klaviyo (client-side)
        async function subscribeToKlaviyo(email, firstName) {
            try {
                // Vérifier que Klaviyo est chargé
                if (!window._learnq) {
                    throw new Error('Klaviyo n\'est pas chargé');
                }
                
                console.log('Inscription Klaviyo pour:', email, firstName);
                
                // Identifier le profil
                window._learnq.push(['identify', {
                    '$email': email,
                    '$first_name': firstName,
                    '$last_name': '',
                    '$phone_number': '',
                    '$organization': '',
                    '$title': '',
                    '$industry': '',
                    '$timezone': Intl.DateTimeFormat().resolvedOptions().timeZone,
                    '$consent': ['email']
                }]);
                
                // S'abonner à la liste spécifique
                window._learnq.push(['subscribe', {
                    'list': KLAVIYO_CONFIG.listId,
                    'email': email,
                    'first_name': firstName
                }]);
                
                // Tracker l'événement de capture de lead
                window._learnq.push(['track', 'Formation Lead Capture', {
                    '$email': email,
                    '$value': 0,
                    'source': 'exit_intent_modal',
                    'page': window.location.pathname,
                    'timestamp': new Date().toISOString(),
                    'first_name': firstName,
                    'lead_source': 'landing_page',
                    'campaign': 'professeur_particulier_5000',
                    'form_type': 'exit_intent'
                }]);
                
                console.log('Inscription Klaviyo réussie via client-side');
                return { success: true, method: 'client_side' };
                
            } catch (error) {
                console.error('Erreur lors de l\'inscription Klaviyo:', error);
                
                // Fallback avec une approche alternative
                try {
                    // Essayer avec l'approche formulaire Klaviyo
                    const formData = new FormData();
                    formData.append('email', email);
                    formData.append('$first_name', firstName);
                    formData.append('list', KLAVIYO_CONFIG.listId);
                    formData.append('$source', 'formation_landing_page');
                    
                    const response = await fetch(`https://manage.kmail-lists.com/subscriptions/subscribe`, {
                        method: 'POST',
                        body: formData,
                        mode: 'no-cors' // Important pour éviter les erreurs CORS
                    });
                    
                    console.log('Inscription via formulaire Klaviyo tentée');
                    return { success: true, method: 'form_fallback' };
                    
                } catch (fallbackError) {
                    console.error('Erreur fallback Klaviyo:', fallbackError);
                    return { success: false, error: fallbackError.message };
                }
            }
        }
        
        // Fonctions de la modale
        function showExitModal() {
            if (!modalShown) {
                modalShown = true;
                const modal = document.getElementById('exitModal');
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden';
                
                // Focus management
                const firstFocusable = modal.querySelector('button, a[href], input');
                if (firstFocusable) {
                    setTimeout(() => firstFocusable.focus(), 100);
                }
                
                // Trap focus
                trapFocus(modal);
                
                // Track avec Klaviyo si disponible
                if (window._learnq) {
                    window._learnq.push(['track', 'Modal Opened', {
                        'modal_type': 'exit_intent',
                        'page': window.location.pathname
                    }]);
                }
            }
        }
        
        function closeModal() {
            const modal = document.getElementById('exitModal');
            modal.style.display = 'none';
            document.body.style.overflow = '';
            
            // Clear any messages
            document.getElementById('form-messages').innerHTML = '';
            
            // Return focus to body
            document.body.focus();
        }
        
        function trapFocus(element) {
            const focusableElements = element.querySelectorAll(
                'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
            );
            const firstFocusable = focusableElements[0];
            const lastFocusable = focusableElements[focusableElements.length - 1];
            
            element.addEventListener('keydown', function(e) {
                if (e.key === 'Tab') {
                    if (e.shiftKey) {
                        if (document.activeElement === firstFocusable) {
                            lastFocusable.focus();
                            e.preventDefault();
                        }
                    } else {
                        if (document.activeElement === lastFocusable) {
                            firstFocusable.focus();
                            e.preventDefault();
                        }
                    }
                }
            });
        }
        
        // Form submission avec Klaviyo
        document.addEventListener('DOMContentLoaded', function() {
            // Debug Klaviyo au chargement
            setTimeout(debugKlaviyo, 2000);
            
            const form = document.getElementById('leadForm');
            if (form) {
                form.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    console.log('=== SOUMISSION FORMULAIRE ===');
                    
                    const formData = new FormData(form);
                    const firstName = formData.get('firstName').trim();
                    const email = formData.get('email').trim();
                    
                    console.log('Données formulaire:', { firstName, email });
                    
                    // Validation simple
                    if (!firstName || !email) {
                        showMessage('Veuillez remplir tous les champs', 'error');
                        return;
                    }
                    
                    if (!email.includes('@') || !email.includes('.')) {
                        showMessage('Veuillez entrer une adresse email valide', 'error');
                        return;
                    }
                    
                    // Set loading state
                    setFormLoading(true);
                    
                    try {
                        // Inscription à Klaviyo
                        const result = await subscribeToKlaviyo(email, firstName);
                        
                        console.log('Résultat inscription:', result);
                        
                        if (result.success) {
                            // Haptic feedback
                            if (navigator.vibrate) {
                                navigator.vibrate([50, 50, 100]);
                            }
                            
                            // Succès
                            showMessage(`Merci ${firstName} ! Vous allez recevoir un email avec le lien de la formation.`, 'success');
                            
                            // Fermer la modal après 2 secondes
                            setTimeout(() => {
                                closeModal();
                                
                                // Optionnel: redirection
                                // window.location.href = '/formation-video';
                            }, 2000);
                            
                        } else {
                            throw new Error(result.error || 'Erreur lors de l\'inscription');
                        }
                        
                    } catch (error) {
                        console.error('Erreur lors de l\'inscription:', error);
                        showMessage('Une erreur s\'est produite. Veuillez réessayer.', 'error');
                    } finally {
                        setFormLoading(false);
                    }
                });
            }
        });
        
        // Exit intent detection - Desktop
        if (!isMobile) {
            document.addEventListener('mouseleave', function(e) {
                if (e.clientY <= 0 && !modalShown) {
                    clearTimeout(exitTimer);
                    exitTimer = setTimeout(showExitModal, 1500);
                }
            });
        }
        
        // Exit intent detection - Mobile (scroll-based with touch)
        if (isMobile) {
            let scrollTimeout;
            let hasScrolledSignificantly = false;
            
            // Track significant scroll
            window.addEventListener('scroll', function() {
                const scrollPercent = (window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100;
                
                if (scrollPercent > 30) {
                    hasScrolledSignificantly = true;
                }
                
                if (scrollPercent > 75 && hasScrolledSignificantly && !modalShown) {
                    clearTimeout(scrollTimeout);
                    scrollTimeout = setTimeout(showExitModal, 1000);
                }
            }, { passive: true });
            
            // Touch-based exit intent
            document.addEventListener('touchstart', function(e) {
                touchStartY = e.touches[0].clientY;
            }, { passive: true });
            
            document.addEventListener('touchmove', function(e) {
                if (!modalShown && hasScrolledSignificantly) {
                    const touchY = e.touches[0].clientY;
                    const touchDiff = touchStartY - touchY;
                    
                    // Rapid upward swipe near top of screen
                    if (touchDiff > 50 && window.scrollY < 100) {
                        setTimeout(showExitModal, 800);
                    }
                }
            }, { passive: true });
        }
        
        // Modal close events
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeModal();
            }
        });
        
        // Click outside to close
        document.getElementById('exitModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });
        
        // Close button
        document.querySelector('.modal-close').addEventListener('click', closeModal);
        
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
        
        // Button interactions with touch feedback
        document.querySelectorAll('.btn').forEach(button => {
            // Mouse events for desktop
            button.addEventListener('mouseenter', function() {
                if (!isMobile) {
                    this.style.transform = 'translateY(-2px)';
                }
            });
            
            button.addEventListener('mouseleave', function() {
                if (!isMobile) {
                    this.style.transform = 'translateY(0)';
                }
            });
            
            // Touch events for mobile
            button.addEventListener('touchstart', function() {
                this.style.transform = 'scale(0.98)';
            }, { passive: true });
            
            button.addEventListener('touchend', function() {
                setTimeout(() => {
                    this.style.transform = '';
                }, 150);
            }, { passive: true });
        });
        
        // Play button interactions
        document.querySelectorAll('.play-btn, .testimonial-play-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                // Haptic feedback for mobile
                if (navigator.vibrate) {
                    navigator.vibrate(50);
                }
                
                // Visual feedback
                this.style.transform = 'scale(1.1)';
                setTimeout(() => {
                    this.style.transform = '';
                }, 200);
                
                // Show modal for all play buttons
                if (!modalShown) {
                    setTimeout(showExitModal, 300);
                }
            });
            
            // Touch feedback
            btn.addEventListener('touchstart', function() {
                this.style.transform = 'scale(1.05)';
            }, { passive: true });
            
            btn.addEventListener('touchend', function() {
                setTimeout(() => {
                    if (this.style.transform !== 'scale(1.1)') {
                        this.style.transform = '';
                    }
                }, 100);
            }, { passive: true });
        });
        
        // CTA tracking and interactions
        document.querySelectorAll('.btn-purple').forEach(btn => {
            btn.addEventListener('click', function(e) {
                if (this.getAttribute('href') === '#') {
                    e.preventDefault();
                    
                    // Haptic feedback
                    if (navigator.vibrate) {
                        navigator.vibrate([50, 50, 100]);
                    }
                    
                    // Track avec Klaviyo
                    if (window._learnq) {
                        window._learnq.push(['track', 'CTA Clicked', {
                            'cta_text': this.textContent.trim(),
                            'page': window.location.pathname
                        }]);
                    }
                    
                    // Show modal if not shown yet
                    if (!modalShown) {
                        setTimeout(showExitModal, 300);
                    }
                }
            });
        });
        
        // Sticky CTA show/hide logic
        function handleStickyCtaVisibility() {
            if (!isMobile) return;
            
            const stickyCta = document.querySelector('.sticky-cta');
            const heroCta = document.getElementById('hero-cta');
            const footer = document.querySelector('.footer');
            
            if (!stickyCta || !heroCta || !footer) return;
            
            const heroCtaRect = heroCta.getBoundingClientRect();
            const footerRect = footer.getBoundingClientRect();
            const windowHeight = window.innerHeight;
            
            // Hide when hero CTA is visible or when footer is visible
            if (heroCtaRect.bottom > 0 || footerRect.top < windowHeight) {
                stickyCta.style.transform = 'translateY(100%)';
                stickyCta.style.opacity = '0';
            } else {
                stickyCta.style.transform = 'translateY(0)';
                stickyCta.style.opacity = '1';
            }
        }
        
        // Throttled scroll handler for performance
        let ticking = false;
        function updateOnScroll() {
            handleStickyCtaVisibility();
            ticking = false;
        }
        
        window.addEventListener('scroll', function() {
            if (!ticking) {
                requestAnimationFrame(updateOnScroll);
                ticking = true;
            }
        }, { passive: true });
        
        // Resize handler
        window.addEventListener('resize', function() {
            handleStickyCtaVisibility();
        }, { passive: true });
        
        // Accessibility improvements
        document.addEventListener('DOMContentLoaded', function() {
            // Add skip link for screen readers
            const skipLink = document.createElement('a');
            skipLink.href = '#main-content';
            skipLink.textContent = 'Passer au contenu principal';
            skipLink.className = 'skip-link';
            skipLink.style.cssText = `
                position: absolute; 
                left: -10000px; 
                top: auto; 
                width: 1px; 
                height: 1px; 
                overflow: hidden;
                background: #000;
                color: #fff;
                padding: 8px 16px;
                text-decoration: none;
                border-radius: 4px;
                z-index: 10000;
            `;
            
            skipLink.addEventListener('focus', function() {
                this.style.cssText = `
                    position: fixed; 
                    top: 10px; 
                    left: 10px; 
                    width: auto; 
                    height: auto; 
                    overflow: visible;
                    background: #000;
                    color: #fff;
                    padding: 8px 16px;
                    text-decoration: none;
                    border-radius: 4px;
                    z-index: 10000;
                `;
            });
            
            skipLink.addEventListener('blur', function() {
                this.style.cssText = `
                    position: absolute; 
                    left: -10000px; 
                    top: auto; 
                    width: 1px; 
                    height: 1px; 
                    overflow: hidden;
                    background: #000;
                    color: #fff;
                    padding: 8px 16px;
                    text-decoration: none;
                    border-radius: 4px;
                    z-index: 10000;
                `;
            });
            
            document.body.insertBefore(skipLink, document.body.firstChild);
            
            // Initialize sticky CTA
            const stickyCta = document.querySelector('.sticky-cta');
            if (stickyCta) {
                stickyCta.style.transition = 'transform 0.3s ease, opacity 0.3s ease';
                stickyCta.style.transform = 'translateY(100%)';
                stickyCta.style.opacity = '0';
            }
            
            // Initial visibility check
            setTimeout(handleStickyCtaVisibility, 100);
            
            // Initialize Klaviyo tracking
            if (window._learnq) {
                window._learnq.push(['track', 'Page Viewed', {
                    'page': window.location.pathname,
                    'title': document.title
                }]);
            }
        });
        
        // Performance optimizations for Framer
        
        // Lazy load heavy elements
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '50px'
        };
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    observer.unobserve(entry.target);
                }
            });
        }, observerOptions);
        
        // Observe testimonial cards for animation
        document.querySelectorAll('.testimonial-card').forEach(card => {
            observer.observe(card);
        });
        
        // Prevent iOS rubber band scrolling when modal is open
        let scrollPos = 0;
        function preventScroll(e) {
            e.preventDefault();
        }
        
        function disableScroll() {
            scrollPos = window.scrollY;
            document.body.style.position = 'fixed';
            document.body.style.top = `-${scrollPos}px`;
            document.body.style.width = '100%';
            document.addEventListener('touchmove', preventScroll, { passive: false });
        }
        
        function enableScroll() {
            document.body.style.position = '';
            document.body.style.top = '';
            document.body.style.width = '';
            window.scrollTo(0, scrollPos);
            document.removeEventListener('touchmove', preventScroll);
        }
        
        // Update modal functions to use proper scroll locking
        const originalShowExitModal = showExitModal;
        const originalCloseModal = closeModal;
        
        showExitModal = function() {
            originalShowExitModal();
            if (isMobile) {
                disableScroll();
            }
        };
        
        closeModal = function() {
            originalCloseModal();
            if (isMobile) {
                enableScroll();
            }
        };
        
        // Optimize animations for 60fps
        function optimizeAnimations() {
            const style = document.createElement('style');
            style.textContent = `
                .testimonial-card {
                    opacity: 0;
                    transform: translateY(20px);
                    transition: opacity 0.6s ease, transform 0.6s ease;
                }
                
                .testimonial-card.visible {
                    opacity: 1;
                    transform: translateY(0);
                }
                
                @media (prefers-reduced-motion: reduce) {
                    .testimonial-card {
                        transition: none;
                    }
                }
                
                /* Hardware acceleration */
                .btn, .play-btn, .modal-content, .form-input {
                    will-change: transform;
                }
                
                /* Smooth modal animation */
                .modal {
                    backdrop-filter: blur(2px);
                }
                
                .modal-content {
                    transform: translate(-50%, -50%) scale(0.95);
                    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
                }
                
                .modal[style*="block"] .modal-content {
                    transform: translate(-50%, -50%) scale(1);
                }
                
                /* Form input focus animations */
                .form-input:focus {
                    transform: scale(1.02);
                }
            `;
            document.head.appendChild(style);
        }
        
        // Initialize optimizations
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', optimizeAnimations);
        } else {
            optimizeAnimations();
        }
        
        // Error handling
        window.addEventListener('error', function(e) {
            console.log('Error caught:', e.message);
            // Graceful degradation - ensure basic functionality works
        });
        
        // Framer-specific event for when page is fully loaded
        window.addEventListener('load', function() {
            document.body.classList.add('loaded');
            
            // Trigger any delayed animations
            setTimeout(() => {
                document.querySelectorAll('.testimonial-card').forEach((card, index) => {
                    setTimeout(() => {
                        card.classList.add('visible');
                    }, index * 200);
                });
            }, 500);
            
        // Framer-specific event for when page is fully loaded
        window.addEventListener('load', function() {
            document.body.classList.add('loaded');
            
            // Trigger any delayed animations
            setTimeout(() => {
                document.querySelectorAll('.testimonial-card').forEach((card, index) => {
                    setTimeout(() => {
                        card.classList.add('visible');
                    }, index * 200);
                });
            }, 500);
            
            // Initialize Klaviyo if not already done
            if (window._learnq && !window.klaviyoInitialized) {
                window.klaviyoInitialized = true;
                
                // Track page load
                window._learnq.push(['track', 'Page Loaded', {
                    'page': window.location.pathname,
                    'title': document.title,
                    'referrer': document.referrer,
                    'timestamp': new Date().toISOString()
                }]);
                
                console.log('✅ Klaviyo initialisé avec succès');
            }
            
            // Ajouter des fonctions de debug globales pour tester
            window.testKlaviyo = function() {
                debugKlaviyo();
                
                if (window._learnq) {
                    window._learnq.push(['track', 'Test Event', {
                        'test': true,
                        'timestamp': new Date().toISOString()
                    }]);
                    console.log('✅ Test event envoyé');
                } else {
                    console.error('❌ Klaviyo non disponible');
                }
            };
            
            window.testSubscription = function(email = 'test@example.com', firstName = 'Test') {
                console.log('🧪 Test d\'inscription...');
                return subscribeToKlaviyo(email, firstName);
            };
            
            console.log('🔧 Fonctions debug disponibles: testKlaviyo(), testSubscription()');
        });
        
        // Vérification périodique de Klaviyo
        let klaviyoCheckCount = 0;
        const maxChecks = 10;
        
        function checkKlaviyoStatus() {
            klaviyoCheckCount++;
            
            if (typeof window._learnq !== 'undefined') {
                console.log(`✅ Klaviyo chargé après ${klaviyoCheckCount} vérification(s)`);
                return;
            }
            
            if (klaviyoCheckCount < maxChecks) {
                console.log(`🔍 Vérification Klaviyo ${klaviyoCheckCount}/${maxChecks}...`);
                setTimeout(checkKlaviyoStatus, 1000);
            } else {
                console.error('❌ Klaviyo non chargé après 10 tentatives');
            }
        }
        
        // Démarrer la vérification après 1 seconde
        setTimeout(checkKlaviyoStatus, 1000);
        });
        
        // Klaviyo additional tracking functions
        function trackEngagement(action, details = {}) {
            if (window._learnq) {
                window._learnq.push(['track', action, {
                    ...details,
                    'page': window.location.pathname,
                    'timestamp': new Date().toISOString()
                }]);
            }
        }
        
        // Track scroll depth
        let maxScrollDepth = 0;
        let scrollDepthTracked = {
            25: false,
            50: false,
            75: false,
            100: false
        };
        
        window.addEventListener('scroll', function() {
            const scrollPercent = Math.round((window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100);
            
            if (scrollPercent > maxScrollDepth) {
                maxScrollDepth = scrollPercent;
                
                // Track scroll milestones
                Object.keys(scrollDepthTracked).forEach(depth => {
                    if (scrollPercent >= parseInt(depth) && !scrollDepthTracked[depth]) {
                        scrollDepthTracked[depth] = true;
                        trackEngagement('Scroll Depth', {
                            'depth_percent': depth,
                            'max_depth': maxScrollDepth
                        });
                    }
                });
            }
        }, { passive: true });
        
        // Track time on page
        let timeOnPage = 0;
        let timeTracked = {
            30: false,   // 30 seconds
            60: false,   // 1 minute
            120: false,  // 2 minutes
            300: false   // 5 minutes
        };
        
        setInterval(() => {
            timeOnPage += 1;
            
            Object.keys(timeTracked).forEach(seconds => {
                if (timeOnPage >= parseInt(seconds) && !timeTracked[seconds]) {
                    timeTracked[seconds] = true;
                    trackEngagement('Time on Page', {
                        'seconds': seconds,
                        'total_time': timeOnPage
                    });
                }
            });
        }, 1000);
        
        // Track video engagement
        document.querySelectorAll('.play-btn, .testimonial-play-btn').forEach((btn, index) => {
            btn.addEventListener('click', () => {
                trackEngagement('Video Play Attempt', {
                    'video_index': index,
                    'video_type': btn.classList.contains('play-btn') ? 'main' : 'testimonial'
                });
            });
        });
        
        // Track CTA interactions
        document.querySelectorAll('.btn-purple').forEach((btn, index) => {
            btn.addEventListener('click', () => {
                trackEngagement('CTA Click', {
                    'cta_text': btn.textContent.trim(),
                    'cta_position': index,
                    'cta_type': btn.id || 'unknown'
                });
            });
        });
        
        // Track form interactions
        document.addEventListener('DOMContentLoaded', function() {
            const emailInput = document.querySelector('input[name="email"]');
            const firstNameInput = document.querySelector('input[name="firstName"]');
            
            if (emailInput) {
                emailInput.addEventListener('focus', () => {
                    trackEngagement('Form Field Focus', { 'field': 'email' });
                }, { once: true });
                
                emailInput.addEventListener('blur', () => {
                    if (emailInput.value.length > 0) {
                        trackEngagement('Form Field Filled', { 
                            'field': 'email',
                            'has_value': true
                        });
                    }
                });
            }
            
            if (firstNameInput) {
                firstNameInput.addEventListener('focus', () => {
                    trackEngagement('Form Field Focus', { 'field': 'firstName' });
                }, { once: true });
                
                firstNameInput.addEventListener('blur', () => {
                    if (firstNameInput.value.length > 0) {
                        trackEngagement('Form Field Filled', { 
                            'field': 'firstName',
                            'has_value': true
                        });
                    }
                });
            }
        });
        
        // Track modal interactions
        const originalShowExitModalTracked = showExitModal;
        const originalCloseModalTracked = closeModal;
        
        showExitModal = function() {
            trackEngagement('Modal Opened', {
                'modal_type': 'exit_intent',
                'time_on_page': timeOnPage,
                'scroll_depth': maxScrollDepth
            });
            originalShowExitModalTracked();
        };
        
        closeModal = function() {
            trackEngagement('Modal Closed', {
                'modal_type': 'exit_intent',
                'form_submitted': document.querySelector('.form-success') !== null
            });
            originalCloseModalTracked();
        };
        
        // Track exit intent attempts
        if (!isMobile) {
            document.addEventListener('mouseleave', function(e) {
                if (e.clientY <= 0) {
                    trackEngagement('Exit Intent Detected', {
                        'device': 'desktop',
                        'time_on_page': timeOnPage,
                        'scroll_depth': maxScrollDepth
                    });
                }
            });
        }
        
        // Track mobile exit behaviors
        if (isMobile) {
            let mobileExitTracked = false;
            
            document.addEventListener('touchmove', function(e) {
                if (!mobileExitTracked && timeOnPage > 10) {
                    const touchY = e.touches[0].clientY;
                    const touchDiff = touchStartY - touchY;
                    
                    if (touchDiff > 50 && window.scrollY < 100) {
                        mobileExitTracked = true;
                        trackEngagement('Exit Intent Detected', {
                            'device': 'mobile',
                            'time_on_page': timeOnPage,
                            'scroll_depth': maxScrollDepth
                        });
                    }
                }
            }, { passive: true });
        }
        
        // Track page unload
        window.addEventListener('beforeunload', function() {
            trackEngagement('Page Unload', {
                'time_on_page': timeOnPage,
                'max_scroll_depth': maxScrollDepth,
                'modal_shown': modalShown
            });
        });
        
        // Enhanced error tracking
        window.addEventListener('error', function(e) {
            trackEngagement('JavaScript Error', {
                'error_message': e.message,
                'error_source': e.filename,
                'error_line': e.lineno,
                'error_column': e.colno
            });
        });
        
        // Track failed form submissions
        window.addEventListener('unhandledrejection', function(e) {
            if (e.reason && e.reason.message) {
                trackEngagement('Form Submission Error', {
                    'error_message': e.reason.message,
                    'error_type': 'promise_rejection'
                });
            }
        });
        
        // Fallback for older browsers without Klaviyo
        if (typeof window._learnq === 'undefined') {
            window._learnq = [];
            console.warn('Klaviyo script not loaded, using fallback tracking');
            
            // Simple fallback tracking to console
            const originalPush = window._learnq.push;
            window._learnq.push = function(data) {
                console.log('Klaviyo Event (Fallback):', data);
                return originalPush.call(this, data);
            };
        }
        
        // Ensure Klaviyo script loads properly
        let klaviyoLoadAttempts = 0;
        const maxKlaviyoAttempts = 3;
        
        function checkKlaviyoLoad() {
            klaviyoLoadAttempts++;
            
            if (typeof window._learnq === 'undefined' && klaviyoLoadAttempts < maxKlaviyoAttempts) {
                console.warn(`Klaviyo not loaded, attempt ${klaviyoLoadAttempts}/${maxKlaviyoAttempts}`);
                
                // Try to reload Klaviyo script
                const script = document.createElement('script');
                script.async = true;
                script.src = 'https://static.klaviyo.com/onsite/js/klaviyo.js?company_id=SnLai2';
                script.onerror = () => {
                    setTimeout(checkKlaviyoLoad, 2000);
                };
                document.head.appendChild(script);
            } else if (klaviyoLoadAttempts >= maxKlaviyoAttempts) {
                console.warn('Klaviyo failed to load after maximum attempts');
                trackEngagement('Klaviyo Load Failed', {
                    'attempts': klaviyoLoadAttempts
                });
            }
        }
        
        // Check Klaviyo load after 3 seconds
        setTimeout(checkKlaviyoLoad, 3000);
        
        // Enhanced analytics for better insights
        function getSessionData() {
            return {
                'session_start': sessionStorage.getItem('session_start') || new Date().toISOString(),
                'page_views': parseInt(sessionStorage.getItem('page_views') || '0') + 1,
                'referrer': document.referrer,
                'user_agent': navigator.userAgent,
                'screen_resolution': `${screen.width}x${screen.height}`,
                'viewport_size': `${window.innerWidth}x${window.innerHeight}`,
                'language': navigator.language,
                'timezone': Intl.DateTimeFormat().resolvedOptions().timeZone
            };
        }
        
        // Initialize session tracking
        document.addEventListener('DOMContentLoaded', function() {
            if (!sessionStorage.getItem('session_start')) {
                sessionStorage.setItem('session_start', new Date().toISOString());
                sessionStorage.setItem('page_views', '0');
            }
            
            const pageViews = parseInt(sessionStorage.getItem('page_views') || '0') + 1;
            sessionStorage.setItem('page_views', pageViews.toString());
            
            // Track enhanced page view
            trackEngagement('Enhanced Page View', getSessionData());
        });
    </script>
</body>
</html>